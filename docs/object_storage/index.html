<!doctype html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.101.0"><meta name=robots content="index, follow"><link rel="shortcut icon" href=/brainhack_cloud/favicons/favicon.ico><link rel=apple-touch-icon href=/brainhack_cloud/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/brainhack_cloud/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/brainhack_cloud/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/brainhack_cloud/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/brainhack_cloud/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/brainhack_cloud/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/brainhack_cloud/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/brainhack_cloud/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/brainhack_cloud/favicons/android-192x192.png sizes=192x192><title>Object Storage | Brainhack cloud</title><meta name=description content="Object Storage
"><meta property="og:title" content="Object Storage"><meta property="og:description" content="Object Storage
"><meta property="og:type" content="article"><meta property="og:url" content="http://brainhack.org/brainhack_cloud/docs/object_storage/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2022-04-03T12:55:30+01:00"><meta property="og:site_name" content="Brainhack cloud"><meta itemprop=name content="Object Storage"><meta itemprop=description content="Object Storage
"><meta itemprop=dateModified content="2022-04-03T12:55:30+01:00"><meta itemprop=wordCount content="722"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="Object Storage"><meta name=twitter:description content="Object Storage
"><link rel=preload href=/brainhack_cloud/scss/main.min.c615c253cdae327daf26a28a7b270c2fdd85efc0480387940129b177eec76c60.css as=style><link href=/brainhack_cloud/scss/main.min.c615c253cdae327daf26a28a7b270c2fdd85efc0480387940129b177eec76c60.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.6.0.min.js integrity=sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK crossorigin=anonymous></script>
<script src=https://unpkg.com/lunr@2.3.9/lunr.min.js integrity=sha384-203J0SNzyqHby3iU6hzvzltrWi/M41wOP5Gu+BiJMz5nwKykbkUx8Kp7iti0Lpli crossorigin=anonymous></script>
<link rel=stylesheet href=/css/prism.css><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-00000000-0","auto"),ga("send","pageview"))</script><script async src=https://www.google-analytics.com/analytics.js></script></head><body class=td-page><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=/brainhack_cloud/><span class=navbar-logo></span><span class=font-weight-bold>Brainhack cloud</span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/brainhack_cloud/tutorials/><span>Tutorials</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class="nav-link active" href=/brainhack_cloud/docs/><span class=active>Documentation</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/brainhack_cloud/admins/><span>Admins</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=https://github.com/brainhackorg/brainhack_cloud target=_blank><i class='fab fa-github'></i><span>GitHub</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=https://twitter.com/brainhackorg target=_blank><i class='fab fa-twitter'></i><span>News/Twitter</span></a></li></ul></div><div class="navbar-nav d-none d-lg-block"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/brainhack_cloud/offline-search-index.16412b73f312616f6df1376008eac1ae.json data-offline-search-base-href=/ data-offline-search-max-results=10></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><form class="td-sidebar__search d-flex align-items-center"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/brainhack_cloud/offline-search-index.16412b73f312616f6df1376008eac1ae.json data-offline-search-base-href=/ data-offline-search-max-results=10>
<button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="collapse td-sidebar-nav" id=td-section-nav><ul class="td-sidebar-nav__section pr-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-brainhack_clouddocs-li><a href=/brainhack_cloud/docs/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-brainhack_clouddocs><span>Documentation</span></a><ul class=ul-1><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-brainhack_clouddocsrequest-li><a href=/brainhack_cloud/docs/request/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-brainhack_clouddocsrequest><span>Requesting Cloud Resources</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-brainhack_clouddocsobject_storage-li><a href=/brainhack_cloud/docs/object_storage/ class="align-left pl-0 active td-sidebar-link td-sidebar-link__page" id=m-brainhack_clouddocsobject_storage><span class=td-sidebar-nav-active-item>Object Storage</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-brainhack_clouddocstenancy_explorer-li><a href=/brainhack_cloud/docs/tenancy_explorer/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-brainhack_clouddocstenancy_explorer><span>Tenancy Explorer</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-brainhack_clouddocsdocker-li><a href=/brainhack_cloud/docs/docker/ title="Installing and Using Docker" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-brainhack_clouddocsdocker><span>Docker</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-brainhack_clouddocskubernetes-li><a href=/brainhack_cloud/docs/kubernetes/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-brainhack_clouddocskubernetes><span>Kubernetes</span></a></li></ul></li></ul></nav></div></aside><aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none"><div class="td-page-meta ml-2 pb-1 pt-2 mb-0"><a href=https://github.com/brainhackorg/brainhack_cloud/tree/main/content/en/docs/object_storage.md class=td-page-meta--view target=_blank rel=noopener><i class="fa fa-file-alt fa-fw"></i> View page source</a>
<a href=https://github.com/brainhackorg/brainhack_cloud/edit/main/content/en/docs/object_storage.md class=td-page-meta--edit target=_blank rel=noopener><i class="fa fa-edit fa-fw"></i> Edit this page</a>
<a href="https://github.com/brainhackorg/brainhack_cloud/new/main/content/en/docs/object_storage.md?filename=change-me.md&value=---%0Atitle%3A+%22Long+Page+Title%22%0AlinkTitle%3A+%22Short+Nav+Title%22%0Aweight%3A+100%0Adescription%3A+%3E-%0A+++++Page+description+for+heading+and+indexes.%0A---%0A%0A%23%23+Heading%0A%0AEdit+this+template+to+create+your+new+page.%0A%0A%2A+Give+it+a+good+name%2C+ending+in+%60.md%60+-+e.g.+%60getting-started.md%60%0A%2A+Edit+the+%22front+matter%22+section+at+the+top+of+the+page+%28weight+controls+how+its+ordered+amongst+other+pages+in+the+same+directory%3B+lowest+number+first%29.%0A%2A+Add+a+good+commit+message+at+the+bottom+of+the+page+%28%3C80+characters%3B+use+the+extended+description+field+for+more+detail%29.%0A%2A+Create+a+new+branch+so+you+can+preview+your+new+file+and+request+a+review+via+Pull+Request.%0A" class=td-page-meta--child target=_blank rel=noopener><i class="fa fa-edit fa-fw"></i> Create child page</a>
<a href="https://github.com/brainhackorg/brainhack_cloud/issues/new?title=Object%20Storage" class=td-page-meta--issue target=_blank rel=noopener><i class="fab fa-github fa-fw"></i> Create documentation issue</a>
<a href=https://github.com/brainhackorg/brainhack_cloud/issues/new class=td-page-meta--project-issue target=_blank rel=noopener><i class="fas fa-tasks fa-fw"></i> Create project issue</a>
<a id=print href=http://brainhack.org/brainhack_cloud/docs/_print/><i class="fa fa-print fa-fw"></i> Print entire section</a></div><div class=td-toc><nav id=TableOfContents><ul><li><a href=#overview>Overview</a></li><li><a href=#setup-a-new-bucket>Setup a new Bucket</a></li><li><a href=#uploading-files-to-a-bucket>Uploading files to a bucket</a></li><li><a href=#making-a-bucket-public>Making a Bucket public</a></li><li><a href=#pre-authenticated-requests>Pre-Authenticated Requests</a></li><li><a href=#tiering>Tiering</a></li><li><a href=#mirroring>Mirroring</a></li><li><a href=#uploading-files-using-curl>Uploading files using CURL</a></li><li><a href=#uploading-files-using-rclone>Uploading files using RCLONE</a></li></ul></nav></div></aside><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><div class=td-content><h1>Object Storage</h1><div class=lead>Object Storage</div><header class=article-meta></header><h2 id=overview>Overview</h2><p>Object Storage is like Dropbox &mldr; it allows you to simply
store files and they can be accessible via links on the web (or APIs) and you
don&rsquo;t have to monitor the size of the disk (as opposed to block storage) and it
comes with very nice features for mirroring your data to other regions or
tiering data (making it cheaper if files are not accessed very often).</p><h2 id=setup-a-new-bucket>Setup a new Bucket</h2><p>Select a Region from the list where you want your files to be located:</p><p><img src=https://user-images.githubusercontent.com/4021595/161411496-e142dfdc-b84d-4e67-9ea0-71bc74a3f157.png alt=image></p><p>Then search for <code>Buckets</code> and you will find it under <code>Storage</code> -> <code>Object Storage & Archival Storage</code> -> Buckets:
<img src=https://user-images.githubusercontent.com/4021595/161411526-7e47aa08-5284-4d21-b3bb-9501f34a29fa.png alt=image></p><p>Select your project&rsquo;s compartment:
<img src=https://user-images.githubusercontent.com/4021595/161411532-efc61a06-e927-4f09-bfcb-ca777a2eb259.png alt=image></p><p>Create a new Bucket:</p><ul><li>give it a name</li><li>In addition to the defaults we recommend <code>Enable Auto-Tiering</code> (this will make the storage cheaper by moving objects to lower tier storage if they are not used frequently) and <code>Uncommitted Multipart Uploads Cleanup</code> (this will clean up in case uploads failed halfway)</li></ul><p><img src=https://user-images.githubusercontent.com/4021595/161411600-37cf0399-2376-41cf-8dd7-cb75f7ad8a58.png alt=image></p><h2 id=uploading-files-to-a-bucket>Uploading files to a bucket</h2><p>You could upload files via the GUI in the Oracle cloud by clicking the <code>Upload</code> button:
<img src=https://user-images.githubusercontent.com/4021595/161412082-f95b1d4c-67f9-4b69-a360-fd7aab8bc508.png alt=image></p><p>You could also use tools like rclone or curl or the OCI CLI to upload files (more about these tools later)</p><h2 id=making-a-bucket-public>Making a Bucket public</h2><p>By default, the files in the bucket will not be visible to everyone. Let&rsquo;s find the URL to the file we just uploaded: Click on the 3 dots next to the file and click on <code>View Object details</code>:
<img src=https://user-images.githubusercontent.com/4021595/161412133-d4437e2b-4886-4b16-ae05-8ec2e2215dd1.png alt=image></p><p>When opening this URL, you will get this error:
<img src=https://user-images.githubusercontent.com/4021595/161412164-ed46dd79-ee10-42ea-80dc-b1a8088e38f1.png alt=image></p><p>You can either make the WHOLE bucket visible to the world or use &ldquo;Pre-Authenticated Requests&rdquo;. Let&rsquo;s start with the easy (and less control/secure) way first:</p><p>Click on <code>Edit Visibility</code> and switch to public:
<img src=https://user-images.githubusercontent.com/4021595/161412193-e3ec0171-9b0b-46f5-885e-17163b1cb8c2.png alt=image></p><p>Now the file and EVERYTHING else in the bucket are visible to EVERYONE on the internet.</p><h2 id=pre-authenticated-requests>Pre-Authenticated Requests</h2><p>Click on the three dots next to the file again and Click <code>Create Pre-Authenticated Request</code>:
<img src=https://user-images.githubusercontent.com/4021595/161412278-26bbead8-7a58-43b3-8d31-e88a892f83fa.png alt=image></p><p>This gives you more options to control access and you can also expire the access :)</p><p>And you then get a specific URL to access the file (or the bucket or the files you configured):
<img src=https://user-images.githubusercontent.com/4021595/161412301-5fe1b423-e6ed-458a-9347-fdf8e3915fe0.png alt=image></p><p>The URL will stop working when it expires or when you delete the Request. You find all requests under <code>Pre-Authenticated Requests</code> in the Resources menu:
<img src=https://user-images.githubusercontent.com/4021595/161412353-319882d3-7016-4e1b-800f-f9a77b2af0a1.png alt=image></p><h2 id=tiering>Tiering</h2><p>Lifecycle Rules allow you to control what happens with files after a certain amount of time. You can delete them or move them to Archival storage for example:
<img src=https://user-images.githubusercontent.com/4021595/161412377-63896ae5-8d02-4bfc-bf4f-e8b30010281d.png alt=image></p><h2 id=mirroring>Mirroring</h2><p>Mirroring allows you to keep the bucket up-to-date with another bucket in another region (e.g. main bucket is in Europe and the replica is in Australia). This is controlled under the <code>Replication Policy</code>.</p><p>You first need to create the target bucket in the other region and then you can configure it as a target:
<img src=https://user-images.githubusercontent.com/4021595/161412505-d64a0177-e520-46f5-86b8-f08c4e60b962.png alt=image></p><h2 id=uploading-files-using-curl>Uploading files using CURL</h2><p>To enable this you need to create a Pre-Authenticated Request which allows access to the Bucket and it allows objects read and write and Object Listing:
<img src=https://user-images.githubusercontent.com/4021595/161412582-5f0ff3c7-f207-4ca1-811f-163ef2355fd2.png alt=image></p><p>Then copy the URL, as it will never be shown again:
<img src=https://user-images.githubusercontent.com/4021595/161412595-a9d4710a-f65d-408e-a025-1208e35ba0fe.png alt=image></p><p>Now you can use curl to upload files:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>curl -v -X PUT --upload-file YOUR_FILE_HERE YOUR_PRE_AUTHENTICATED_REQUEST_URL_HERE
</span></span></code></pre></div><h2 id=uploading-files-using-rclone>Uploading files using RCLONE</h2><p>Rclone is a great tool for managing the remote file storages. To link it up with Oracles object storage you need to configure a few things (the full version is here: <a href="https://blogs.oracle.com/linux/post/using-rclone-to-copy-data-in-and-out-of-oracle-cloud-object-storage#:~:text=%20Using%20rclone%20to%20copy%20data%20in%20and,which%20Rclone%20will%20be%20used%20to...%20More%20)">https://blogs.oracle.com/linux/post/using-rclone-to-copy-data-in-and-out-of-oracle-cloud-object-storage#:~:text=%20Using%20rclone%20to%20copy%20data%20in%20and,which%20Rclone%20will%20be%20used%20to...%20More%20)</a>:</p><ol><li>The Amazon S3 Compatibility API relies on a signing key called a Customer Secret Key. You need to create this in your User&rsquo;s settings:
<img src=https://user-images.githubusercontent.com/4021595/161412892-0e9d6190-362c-41b5-9579-5f9a2371ebed.png alt=image></li></ol><p>Then Click on <code>Generate Secret Key</code> under <code>Customer Secret Keys</code>:
<img src=https://user-images.githubusercontent.com/4021595/161412964-dd036c50-834e-436f-a8d1-a44da80f29d2.png alt=image></p><p>Save the Secret Key for later:
<img src=https://user-images.githubusercontent.com/4021595/161412970-d22661cd-b549-48ff-8c33-15ba538f02d6.png alt=image></p><p>Then save the <code>Access Key</code> from the table as well.</p><ol start=2><li>Find out where your rclone config file is located:</li></ol><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>rclone config file
</span></span></code></pre></div><ol start=3><li>Add this to your rclone config file:</li></ol><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>[myobjectstorage]
</span></span><span style=display:flex><span>type = s3
</span></span><span style=display:flex><span>provider = Other
</span></span><span style=display:flex><span>env_auth = false
</span></span><span style=display:flex><span>access_key_id = &lt;ACCESS KEY&gt;
</span></span><span style=display:flex><span>secret_access_key = &lt;SECRET KEY&gt;
</span></span><span style=display:flex><span>endpoint = froi4niecnpv.compat.objectstorage.&lt;REGION&gt;.oraclecloud.com
</span></span></code></pre></div><p>Replace <code>ACCESS KEY</code> and <code>SECRET KEY</code> with the ones generated earlier. Replace <code>REGION</code> with the region where the storage bucket is located (e.g. eu-frankfurt-1).</p><p>Now you can use rclone to for example list files in the bucket:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>rclone ls myobjectstorage:/test-bucket
</span></span></code></pre></div><p>or you can upload files or whole directories (or download by reversing the order of Target/Source):</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>rclone copy YOURFILE_or_YOURDIRECTORY myobjectstorage:/test-bucket
</span></span></code></pre></div><p>or you can sync whole directories or other remote storage locations (includes deletes!):</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>rclone sync YOURDIRECTORY_OR_YOUR_OTHER_RCLONE_STORAGE myobjectstorage:/test-bucket
</span></span></code></pre></div><div class="text-muted mt-5 pt-3 border-top">Last modified April 3, 2022: <a href=https://github.com/brainhackorg/brainhack_cloud/commit/7f2293a8d0a091449573c19bdfd3091a7c67a1cd>fix tiny typo (7f2293a)</a></div></div></main></div></div><footer class="bg-dark py-4 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2 my-auto"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title aria-label><a class=text-white target=_blank rel=noopener href aria-label><i></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Twitter aria-label=Twitter><a class=text-white target=_blank rel=noopener href=https://twitter.com/brainhackorg aria-label=Twitter><i class="fab fa-twitter"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title aria-label><a class=text-white target=_blank rel=noopener href aria-label><i></i></a></li></ul></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3 my-auto"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank rel=noopener href=https://github.com/brainhackorg/brainhack_cloud aria-label=GitHub><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title aria-label><a class=text-white target=_blank rel=noopener href aria-label><i></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Dicussion Forum (requires github login)" aria-label="Dicussion Forum (requires github login)"><a class=text-white target=_blank rel=noopener href=https://github.com/brainhackorg/brainhack_cloud/discussions aria-label="Dicussion Forum (requires github login)"><i class="fa fa-envelope"></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2 my-auto"><small class=text-white>&copy; 2022 Brainhack Cloud<br>Except where otherwise noted, content on this site is licensed under a <a href=https://creativecommons.org/licenses/by/4.0/>CC BY 4.0 license</a>.</small></div></div></div></footer></div><script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js integrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js integrity="sha512-UR25UO94eTnCVwjbXozyeVd6ZqpaAE9naiEUBK/A+QDbfSTQFhPGj5lOR6d8tsgbBk84Ggb5A3EkjsOgPRPcKA==" crossorigin=anonymous></script>
<script src=/js/tabpane-persist.js></script>
<script src=/brainhack_cloud/js/main.min.1d64e4eeb8ecaa526b4597d3ec96c5ea33178271fb57815b2b6a095bd41dcbd0.js integrity="sha256-HWTk7rjsqlJrRZfT7JbF6jMXgnH7V4FbK2oJW9Qdy9A=" crossorigin=anonymous></script>
<script src=/js/prism.js></script></body></html>
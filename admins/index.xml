<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Brainhack cloud â€“ Admins</title><link>http://brainhack.org/brainhack_cloud/admins/</link><description>Recent content in Admins on Brainhack cloud</description><generator>Hugo -- gohugo.io</generator><language>en</language><atom:link href="http://brainhack.org/brainhack_cloud/admins/index.xml" rel="self" type="application/rss+xml"/><item><title>Admins: Creating new users</title><link>http://brainhack.org/brainhack_cloud/admins/users/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>http://brainhack.org/brainhack_cloud/admins/users/</guid><description>
&lt;h2 id="overview">Overview&lt;/h2>
&lt;p>Once a new project is requested via the
&lt;a href="https://github.com/brainhackorg/brainhack_cloud/issues/new?assignees=&amp;amp;labels=resource_request&amp;amp;template=request-resource-access.yml">Issue Template&lt;/a>
one of the admins has to provision the project on the cloud.&lt;/p>
&lt;p>Here is an example of such a request:&lt;/p>
&lt;p>&lt;img src="https://user-images.githubusercontent.com/4021595/157339176-d222994f-7d25-484c-99bb-67b354ab1e5a.png" alt="image">&lt;/p>
&lt;h2 id="creating-a-new-user">Creating a new user&lt;/h2>
&lt;p>Login to Oracle Cloud:
&lt;a href="https://cloud.oracle.com/?region=eu-frankfurt-1&amp;amp;tenant=brainhack">https://cloud.oracle.com/?region=eu-frankfurt-1&amp;amp;tenant=brainhack&lt;/a>&lt;/p>
&lt;p>Open the menu and search for users, then open Users in Identity&lt;/p>
&lt;p>&lt;img src="https://user-images.githubusercontent.com/4021595/157339416-1c6f3dcd-3d78-4613-81f1-a955badc3d28.png" alt="image">&lt;/p>
&lt;p>Then hit &lt;code>Create User&lt;/code>.&lt;/p>
&lt;p>Change the selection to &lt;code>IAM User&lt;/code>, add the user name as &lt;code>firstname_lastname&lt;/code>
and the same for description, and add an email.&lt;/p>
&lt;p>&lt;img src="https://user-images.githubusercontent.com/4021595/157339931-96380614-7e14-434d-a9d6-9821c7aa2463.png" alt="image">&lt;/p>
&lt;p>Hit &lt;code>create&lt;/code>.&lt;/p>
&lt;p>Now, generate a password for the user by Clicking &lt;code>Create/Reset Password&lt;/code>&lt;/p>
&lt;p>&lt;img src="https://user-images.githubusercontent.com/4021595/157340057-14baf64d-4737-4dae-ad6a-c31694eac9ab.png" alt="image">&lt;/p>
&lt;p>Copy this password and send it to the user you just created.&lt;/p>
&lt;p>Here is an email template:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-fallback" data-lang="fallback">&lt;span style="display:flex;">&lt;span>Dear
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>You should have gotten an email for the Oracle account verification a few minutes ago â€“ check your spam folder if itâ€™s not there ðŸ˜Š
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Your temporary password is:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Your project compartment name is:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>When logging in (https://cloud.oracle.com/?region=eu-frankfurt-1&amp;amp;tenant=brainhack) make sure to use â€œDirect Sign-Inâ€ (the SECOND sign-in option -&amp;gt; NOT SSO).
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Let us know if you have any questions here: https://mattermost.brainhack.org/brainhack/channels/brainhack_cloud
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The new user has to follow this procedure: &lt;a href="./../../docs/request">User request&lt;/a>.&lt;/p>
&lt;p>Add the User to the group &lt;code>projects&lt;/code> (This group has policies for giving users access to the cloudshell and the data science notebooks):&lt;/p>
&lt;p>&lt;img src="https://user-images.githubusercontent.com/4021595/164168268-e0921fa8-8236-4816-890d-ab1dbaafe240.png" alt="image">&lt;/p>
&lt;p>Repeat this procedure for every user in the project.&lt;/p>
&lt;h2 id="create-project-group">Create Project Group&lt;/h2>
&lt;p>Go back to Identity and click &lt;code>Create Group&lt;/code>&lt;/p>
&lt;p>&lt;img src="https://user-images.githubusercontent.com/4021595/157341864-5582074f-fa90-48f2-a2a5-deebb1a241dc.png" alt="image">&lt;/p>
&lt;p>Give the group a name that represents the project (no spaces!) - as a Description
put the link to the Github issue.&lt;/p>
&lt;p>&lt;img src="https://user-images.githubusercontent.com/4021595/157342047-92280e16-9518-4d04-a3be-796073d16c01.png" alt="image">&lt;/p>
&lt;p>Then add the User(s) to the group.&lt;/p>
&lt;p>&lt;img src="https://user-images.githubusercontent.com/4021595/157342170-192e1e82-c1f7-46ed-a0f9-ec59bbe8de8e.png" alt="image">&lt;/p>
&lt;h2 id="create-project-compartment">Create Project Compartment&lt;/h2>
&lt;p>Go back to &lt;code>Identity&lt;/code> and head to &lt;code>Compartments&lt;/code> and click &lt;code>Create Compartment&lt;/code>.
Name it like the group just created and add the Github issue link as
the description. Parent compartment is &lt;code>projects&lt;/code> a sub-compartment under the main compartment &lt;code>brainhack (root)&lt;/code>.&lt;/p>
&lt;p>&lt;img src="https://user-images.githubusercontent.com/4021595/164388946-72ae0980-6975-4b2b-bdb1-e1442a0da344.png" alt="image">&lt;/p>
&lt;h2 id="create-policy-for-group-and-compartment">Create Policy for group and compartment&lt;/h2>
&lt;p>Go back to &lt;code>Identity&lt;/code> and click on &lt;code>Policies&lt;/code>. Click &lt;code>Create Policy&lt;/code>. Name the
policy like the group and compartment just created. The description is the Github
issue link. You can either use the policy builder or switch to manual. The
resulting policy needs to be
&lt;code>Allow group REPLACEWITHGROUPNAME to manage all-resources in compartment REPALCEWITHCOMPARTMENTNAME&lt;/code>. Make sure that this policies is at the &lt;code>project&lt;/code> level and not in the &lt;code>brainhack (root)&lt;/code> compartment:&lt;/p>
&lt;p>&lt;img src="https://user-images.githubusercontent.com/4021595/164389533-8f18ee73-c474-476d-8ed5-a0428b7e5aac.png" alt="image">&lt;/p>
&lt;h2 id="create-a-budget-for-compartment">Create a Budget for compartment&lt;/h2>
&lt;p>Budgets help us to control and monitor costs. For every compartment, we need a
budget with someone being alerted when things go crazy:&lt;/p>
&lt;p>Go to &lt;code>Budgets&lt;/code> under &lt;code>Cost Management&lt;/code> and click &lt;code>Create Budget&lt;/code>. Add the
project details and add your email to the alert list.&lt;/p>
&lt;p>&lt;img src="https://user-images.githubusercontent.com/4021595/157346505-be192493-6937-4574-87a8-1ceb898bae81.png" alt="image">&lt;/p></description></item><item><title>Admins: Setting up policies</title><link>http://brainhack.org/brainhack_cloud/admins/policies/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>http://brainhack.org/brainhack_cloud/admins/policies/</guid><description>
&lt;h2 id="overview">Overview&lt;/h2>
&lt;p>Access permissions are controlled via Policies. If something is not working,
it&amp;rsquo;s usually a missing policy. One important thing to note is that Policies can
ONLY be applied to Groups, NOT to the Users!&lt;/p>
&lt;h2 id="policy-for-cloud-shell-access">Policy for Cloud Shell access&lt;/h2>
&lt;p>By default, a new user cannot open a Cloud Shell. To provide every user with
this permission, we created a group called &amp;ldquo;cloudshell-access&amp;rdquo; and we add every
user to this group. The group then has a Policy that allows opening a cloud
shell: &lt;code>allow group cloudshell-access to use cloud-shell in tenancy&lt;/code>&lt;/p>
&lt;h2 id="policies-for-object-storage-lifecycle-management">Policies for Object Storage Lifecycle management&lt;/h2>
&lt;p>To enable lifecycle management the local services need a policy to do this. I configured it for every possible region a user would choose:&lt;/p>
&lt;p>Allow service objectstorage-eu-frankfurt-1 to manage object-family in compartment projects&lt;/p>
&lt;p>Allow service objectstorage-ap-sydney-1 to manage object-family in compartment projects&lt;/p>
&lt;p>Allow service objectstorage-ap-melbourne-1 to manage object-family in compartment projects&lt;/p>
&lt;p>Allow service objectstorage-sa-saopaulo-1 to manage object-family in compartment projects&lt;/p>
&lt;p>Allow service objectstorage-sa-vinhedo-1 to manage object-family in compartment projects&lt;/p>
&lt;p>Allow service objectstorage-ca-montreal-1 to manage object-family in compartment projects&lt;/p>
&lt;p>Allow service objectstorage-ca-toronto-1 to manage object-family in compartment projects&lt;/p>
&lt;p>Allow service objectstorage-sa-santiago-1 to manage object-family in compartment projects&lt;/p>
&lt;p>Allow service objectstorage-eu-marseille-1 to manage object-family in compartment projects&lt;/p>
&lt;p>Allow service objectstorage-ap-hyderabad-1 to manage object-family in compartment projects&lt;/p>
&lt;p>Allow service objectstorage-ap-mumbai-1 to manage object-family in compartment projects&lt;/p>
&lt;p>Allow service objectstorage-il-jerusalem-1 to manage object-family in compartment projects&lt;/p>
&lt;p>Allow service objectstorage-eu-milan-1 to manage object-family in compartment projects&lt;/p>
&lt;p>Allow service objectstorage-ap-osaka-1 to manage object-family in compartment projects&lt;/p>
&lt;p>Allow service objectstorage-ap-tokyo-1 to manage object-family in compartment projects&lt;/p>
&lt;p>Allow service objectstorage-eu-amsterdam-1 to manage object-family in compartment projects&lt;/p>
&lt;p>Allow service objectstorage-me-jeddah-1 to manage object-family in compartment projects&lt;/p>
&lt;p>Allow service objectstorage-ap-singapore-1 to manage object-family in compartment projects&lt;/p>
&lt;p>Allow service objectstorage-af-johannesburg-1 to manage object-family in compartment projects&lt;/p>
&lt;p>Allow service objectstorage-ap-seoul-1 to manage object-family in compartment projects&lt;/p>
&lt;p>Allow service objectstorage-ap-chuncheon-1 to manage object-family in compartment projects&lt;/p>
&lt;p>Allow service objectstorage-eu-stockholm-1 to manage object-family in compartment projects&lt;/p>
&lt;p>Allow service objectstorage-eu-zurich-1 to manage object-family in compartment projects&lt;/p>
&lt;p>Allow service objectstorage-me-abudhabi-1 to manage object-family in compartment projects&lt;/p>
&lt;p>Allow service objectstorage-me-dubai-1 to manage object-family in compartment projects&lt;/p>
&lt;p>Allow service objectstorage-uk-london-1 to manage object-family in compartment projects&lt;/p>
&lt;p>Allow service objectstorage-uk-cardiff-1 to manage object-family in compartment projects&lt;/p>
&lt;p>Allow service objectstorage-us-ashburn-1 to manage object-family in compartment projects&lt;/p>
&lt;p>Allow service objectstorage-us-phoenix-1 to manage object-family in compartment projects&lt;/p>
&lt;p>Allow service objectstorage-us-sanjose-1 to manage object-family in compartment projects&lt;/p>
&lt;h2 id="policies-for-hpc">Policies for HPC&lt;/h2>
&lt;p>allow service compute_management to use tag-namespace in tenancy&lt;/p>
&lt;p>allow service compute_management to manage compute-management-family in tenancy&lt;/p>
&lt;p>allow service compute_management to read app-catalog-listing in tenancy&lt;/p>
&lt;p>Allow dynamic-group instance_principal to read app-catalog-listing in tenancy&lt;/p>
&lt;p>Allow dynamic-group instance_principal to use tag-namespace in tenancy&lt;/p>
&lt;p>Allow dynamic-group instance_principal to manage all-resources in compartment projects&lt;/p></description></item><item><title>Admins: Resources</title><link>http://brainhack.org/brainhack_cloud/admins/resources/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>http://brainhack.org/brainhack_cloud/admins/resources/</guid><description>
&lt;p>By default, every tenancy has strict resource limits. These make sure that the right resources are available in the data centers where they are requested. An overview of which resources are available where can be found here:
&lt;a href="https://www.oracle.com/cloud/data-regions/#northamerica">https://www.oracle.com/cloud/data-regions/#northamerica&lt;/a>&lt;/p></description></item><item><title>Admins: Team</title><link>http://brainhack.org/brainhack_cloud/admins/team/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>http://brainhack.org/brainhack_cloud/admins/team/</guid><description>
&lt;p>We applied for funding for this project with Oracle Cloud for Research and the
project is funded with $230,000.00 AUD from the 29th of January 2022 until 28th of
January, 2024.&lt;/p>
&lt;p>For help and support, please join the mattermost channel:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://mattermost.brainhack.org/brainhack/channels/brainhack_cloud">https://mattermost.brainhack.org/brainhack/channels/brainhack_cloud&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://mattermost.brainhack.org/brainhack/channels/ofr-support">https://mattermost.brainhack.org/brainhack/channels/ofr-support&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>If you would like to join the admin team, please join this mattermost channel:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://mattermost.brainhack.org/brainhack/channels/brainhack_global-oracle">https://mattermost.brainhack.org/brainhack/channels/brainhack_global-oracle&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>The team behind the scenes:&lt;/p>
&lt;ul>
&lt;li>Johanna Bayer &lt;a href="https://github.com/likeajumprope">https://github.com/likeajumprope&lt;/a>&lt;/li>
&lt;li>Remi Gau &lt;a href="https://github.com/Remi-Gau">https://github.com/Remi-Gau&lt;/a>&lt;/li>
&lt;li>Steffen Bollmann &lt;a href="https://github.com/stebo85">https://github.com/stebo85&lt;/a>&lt;/li>
&lt;li>Isil Bilgin &lt;a href="https://github.com/complexbrains">https://github.com/complexbrains&lt;/a>&lt;/li>
&lt;li>Samuel Guay &lt;a href="https://github.com/SamGuay">https://github.com/SamGuay&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Admins: Creating new admins</title><link>http://brainhack.org/brainhack_cloud/admins/admins/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>http://brainhack.org/brainhack_cloud/admins/admins/</guid><description>
&lt;h2 id="overview">Overview&lt;/h2>
&lt;p>To increase the security of our cloud tenancy an admin cannot create or remove other admins. This is the instruction for the admin-administrator to create new admin accounts:&lt;/p>
&lt;h2 id="create-a-new-admin">Create a new admin&lt;/h2>
&lt;p>Admins need to use a &amp;ldquo;federated account&amp;rdquo; to login into the cloud instead of &amp;ldquo;local accounts&amp;rdquo;.&lt;/p>
&lt;p>Go to &lt;code>Federation&lt;/code> in &lt;code>Identity&lt;/code>
&lt;img src="https://user-images.githubusercontent.com/4021595/159428315-c2335864-23d9-467b-bc93-b618f1e3d840.png" alt="image">&lt;/p>
&lt;p>Click on &lt;code>OracleIdentityCloudService&lt;/code> and then &lt;code>Create User&lt;/code>&lt;/p>
&lt;p>append &lt;code>_admin&lt;/code> to the Username (firstname_lastname) of the new user and add the user to the Group &lt;code>OCI_Administrators&lt;/code>&lt;/p>
&lt;p>&lt;img src="https://user-images.githubusercontent.com/4021595/159451717-af0c4b33-f10a-40dc-a5e3-d9453ae8f931.png" alt="image">&lt;/p>
&lt;p>Warning: DO NOT ADD THE USER TO THE GROUP IDCS_Administrators - otherwise this admin will be able to manage other admin accounts.&lt;/p>
&lt;p>You don&amp;rsquo;t have to assign any Roles to the user, so on the next screen click on &lt;code>Close&lt;/code>.&lt;/p>
&lt;p>The new admin will receive an email like this:
&lt;img src="https://user-images.githubusercontent.com/4021595/159452490-1e93e40b-a5f4-4ba9-89e7-6d6bb3f0ce2f.png" alt="image">&lt;/p>
&lt;p>and after activating the account everything is ready to go and the new admin needs to sign on via federated accounts Single Sign On:
&lt;img src="https://user-images.githubusercontent.com/4021595/159452817-bce541c0-8996-431e-b670-b8db3818959e.png" alt="image">&lt;/p></description></item><item><title>Admins: Datascience setup</title><link>http://brainhack.org/brainhack_cloud/admins/datascience/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>http://brainhack.org/brainhack_cloud/admins/datascience/</guid><description>
&lt;h2 id="step-1-create-vcn-and-subnets">Step 1) Create VCN and Subnets&lt;/h2>
&lt;p>Create a VCN and subnets using Virtual Cloud Networks &amp;gt; Start VCN Wizard &amp;gt; VCN with Internet Connectivity option.
The Networking Quickstart option automatically creates the necessary private subnet with a NAT gateway.
&lt;img src="https://user-images.githubusercontent.com/4021595/159605361-d8f4bf9b-e7c7-445d-89ce-8daee43801f1.png" alt="image">&lt;/p>
&lt;h2 id="step-2-create-a-dynamic-group">Step 2) Create a Dynamic Group&lt;/h2>
&lt;p>Create a dynamic group with the following matching rule:
ALL { resource.type = &amp;lsquo;datasciencenotebooksession&amp;rsquo; }
&lt;img src="https://user-images.githubusercontent.com/4021595/159605506-d0579916-2cce-461b-9d54-f703a53b7ad1.png" alt="image">&lt;/p>
&lt;p>created as &amp;ldquo;datascience-notebooks-dynamic-group&amp;rdquo;&lt;/p>
&lt;h2 id="step-3-create-policies">Step 3) Create Policies&lt;/h2>
&lt;p>Create a policy in the root compartment with the following statements:&lt;/p>
&lt;h3 id="31-service-policies">3.1 Service Policies&lt;/h3>
&lt;p>allow service datascience to use virtual-network-family in tenancy&lt;/p>
&lt;p>-&amp;gt; created in root compartment as &amp;ldquo;datascience&amp;rdquo;&lt;/p>
&lt;h3 id="32-non-administrator-user-policies">3.2 Non-Administrator User Policies&lt;/h3>
&lt;p>allow group &lt;code>data-scientists&lt;/code> to use virtual-network-family in tenancy
allow group &lt;code>data-scientists&lt;/code> to manage data-science-family in tenancy
where &lt;code>data-scientists&lt;/code> represents the name of your user group -&amp;gt; setup as &amp;ldquo;projects&amp;rdquo; group&lt;/p>
&lt;h3 id="33-dynamic-group-policies">3.3 Dynamic Group Policies&lt;/h3>
&lt;p>allow dynamic-group &lt;code>dynamic-group&lt;/code> to manage data-science-family in tenancy
where &lt;code>dynamic-group&lt;/code> represents the name of your dynamic group&lt;/p>
&lt;p>-&amp;gt; created as datascience-dynamic-group-policy in the root compartment&lt;/p></description></item></channel></rss>
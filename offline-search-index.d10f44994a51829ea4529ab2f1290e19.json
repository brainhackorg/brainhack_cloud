[{"body":"Overview Once a new project is requested via the Issue Template one of the admins has to provision the project on the cloud.\nHere is an example of such a request:\nCreating a new user Login to Oracle Cloud: https://cloud.oracle.com/?region=eu-frankfurt-1\u0026tenant=brainhack\nOpen the menu and search for users, then open Users in Identity\nThen hit Create User.\nChange the selection to IAM User, add the user name as firstname_lastname and the same for description, and add an email.\nHit create.\nNow, generate a password for the user by Clicking Create/Reset Password\nCopy this password and send it to the user you just created.\nHere is an email template:\nDear You should have gotten an email for the Oracle account verification a few minutes ago ‚Äì check your spam folder if it‚Äôs not there üòä Your temporary password is: Your project compartment name is: When logging in (https://cloud.oracle.com/?region=eu-frankfurt-1\u0026tenant=brainhack) make sure to use ‚ÄúDirect Sign-In‚Äù (the SECOND sign-in option -\u003e NOT SSO). Let us know if you have any questions here: https://mattermost.brainhack.org/brainhack/channels/brainhack_cloud The new user has to follow this procedure: User request.\nAdd the User to the group projects (This group has policies for giving users access to the cloudshell and the data science notebooks):\nRepeat this procedure for every user in the project.\nCreate Project Group Go back to Identity and click Create Group\nGive the group a name that represents the project (no spaces!) - as a Description put the link to the Github issue.\nThen add the User(s) to the group.\nCreate Project Compartment Go back to Identity and head to Compartments and click Create Compartment. Name it like the group just created and add the Github issue link as the description. Parent compartment is projects a sub-compartment under the main compartment brainhack (root).\nCreate Policy for group and compartment Go back to Identity and click on Policies. Click Create Policy. Name the policy like the group and compartment just created. The description is the Github issue link. You can either use the policy builder or switch to manual. The resulting policy needs to be Allow group REPLACEWITHGROUPNAME to manage all-resources in compartment REPALCEWITHCOMPARTMENTNAME. Make sure that this policies is at the project level and not in the brainhack (root) compartment:\nCreate a Budget for compartment Budgets help us to control and monitor costs. For every compartment, we need a budget with someone being alerted when things go crazy:\nGo to Budgets under Cost Management and click Create Budget. Add the project details and add your email to the alert list.\n","categories":"","description":"Creating new users\n","excerpt":"Creating new users\n","ref":"/brainhack_cloud/admins/users/","tags":"","title":"Creating new users"},{"body":"Overview This section contains documentation on how to use the Oracle Cloud.\nFeedback \u0026 Inquiries To ask questions or suggest new features, join the discussion on Github. For issues with the brainhack cloud, please open a new issue.\nAcknowledgments Funding Thank you to Oracle for Research for providing Oracle Cloud credits and related resources to support this project.\nWhat is Oracle for Research? ‚ÄúOracle for Research supports academic, educational, and institutional researchers in all aspects of discovery. We‚Äôve made it simple for them to host, store and analyze their data with our cloud infrastructure solutions. Our research customers are changing the world ‚Äì and we‚Äôre proud to help them do it.‚Äù\nLicense CC BY License 4.0\n","categories":"","description":"Documentation.\n","excerpt":"Documentation.\n","ref":"/brainhack_cloud/docs/","tags":"","title":"Documentation"},{"body":"Request resources via a Github Issue Template Fill in this form.\nOnce an admin acts on this, you can continue.\nActivate your account An admin will create your account and send you a password and you will get an activation email from Oracle\nClick on the activation link.\nNow, it‚Äôs very important that you expand the LOWER section of this login field and fill in your Username from the email and the password you were sent!\nThen click on Sign In.\nThen change your password and hit Save New Password\nIf you are using any non Chrome, Safari or Firefox browser you need to indicate that you don‚Äôt want to be warned if things don‚Äôt work as expected (note: Edge works fine!).\nIf everything is complete you should see this.\nYou should now be able to select your Compartment (which should be named like your project) and start using resources.\nAlways make sure to select your compartment - otherwise you cannot see or create resources.\nHappy computing :)\n","categories":"","description":"Requesting Cloud Resources\n","excerpt":"Requesting Cloud Resources\n","ref":"/brainhack_cloud/docs/request/","tags":"","title":"Requesting Cloud Resources"},{"body":"Overview Running a Virtual machine on the Oracle cloud is the basis for many other things.\nSetup Make sure you selected the geographic region where you would like to create the resource.\nHere I create it in the Home Region.\nHead to Compute -\u003e Instances\nCheck that you selected YOUR project compartment (testproject, is the example here - but you need to change this!) and click Create Instance\nSelecting an image and a shape You can name the instance and then select an Image (Oracle Linux is a good starting point as it has many tools installed that make it work very well on the Cloud) and select a Shape.\nVM.Standard.E4.Flex is a good starting point. The default is Ampere in some instances and this is an ARM architecture, so some of your applications wouldn‚Äôt work out of the box - it is therefore important to change the default Shape to an x86 architecture, like the VM.Standard.E4.Flex.\nThe network setup has sensible defaults to start with\nPaste a public key to access this VM.\nCreate a public key If you don‚Äôt have a public key yet - this is how you can create one (for example in the cloudshell)\nOpen the Cloud Shell (this will take a few seconds the first time)\nRun ssh-keygen to create private/public key pairs (the defaults are sensible, so just hit Enter a few times)\nNow print the public key with cat ~/.ssh/id_rsa.pub and copy it to the clipboard.\nWarning Never share the private key with anyone, which is in id_rsa! Paste it in the Add SSH keys section\nWarning If you chose the option generate a key pair for me you need to change the permission on the file after downloading (chmod 600 *.key) - otherwise it will result in a Permission denied (publickey,gssapi-keyex,gssapi-with-mic) error triggered by Load key \"*.key\": bad permissions Disk size You can specify a custom boot volume size, but you can also increase this easily later.\nNote: it‚Äôs not possible to shrink a volume! Only increasing the size is possible, so start small and increase when needed. Increasing the size is even possible while the instance is running and will not interrupt your work :)\nThe rest of the defaults are sensible.\nCreate the VM This will now create the machine.\nConnect to Instance You can now use an SSH client on your computer to connect to the Instance, or the cloudshell.\nYou find the connection details in.\nSo in this case you would connect to your instance by typing.\nssh opc@130.61.212.59 If you are planning on running web services on the instance (like a jupyter notebook service) - then it‚Äôs easiest to connect to the instance via a port forwarding and then opening the web service in your local browser at localhost:portnumber.\nssh -L portnumber:127.0.0.1:portnumber opc@130.61.212.59 Accept the fingerprint and you should be connected.\nExpand disk By default, the instance will not utilize the whole disk size!\nYou can check with df -h.\nBut it can expand the disk with the following commands.\nsudo dd iflag=direct if=/dev/oracleoci/oraclevda of=/dev/null count=1 echo \"1\" | sudo tee /sys/class/block/`readlink /dev/oracleoci/oraclevda | cut -d'/' -f 2`/device/rescan sudo /usr/libexec/oci-growfs -y Now it‚Äôs using the full volume.\nTerminate the instance If you don‚Äôt need the machine anymore, you can Stop it (you don‚Äôt pay for the compute anymore, but the disk stays and you can start it back up later) or Terminate it (everything gets removed, including the boot volume if you want to):\nTo cleanup the storage as well, you can select Permanently delete the attached boot volume and click Terminate Instance.\n","categories":"","description":"Virtual Machines\n","excerpt":"Virtual Machines\n","ref":"/brainhack_cloud/tutorials/vm/","tags":"","title":"Virtual machines"},{"body":"Overview Object Storage is like Dropbox ‚Ä¶ it allows you to simply store files and they can be accessible via links on the web (or APIs) and you don‚Äôt have to monitor the size of the disk (as opposed to block storage) and it comes with very nice features for mirroring your data to other regions or tiering data (making it cheaper if files are not accessed very often).\nSetup a new Bucket Select a Region from the list where you want your files to be located:\nThen search for Buckets and you will find it under Storage -\u003e Object Storage \u0026 Archival Storage -\u003e Buckets: Select your project‚Äôs compartment: Create a new Bucket:\ngive it a name In addition to the defaults we recommend Enable Auto-Tiering (this will make the storage cheaper by moving objects to lower tier storage if they are not used frequently) and Uncommitted Multipart Uploads Cleanup (this will clean up in case uploads failed halfway) Uploading files to a bucket You could upload files via the GUI in the Oracle cloud by clicking the Upload button: You could also use tools like rclone or curl or the OCI CLI to upload files (more about these tools later)\nMaking a Bucket public By default, the files in the bucket will not be visible to everyone. Let‚Äôs find the URL to the file we just uploaded: Click on the 3 dots next to the file and click on View Object details: When opening this URL, you will get this error: You can either make the WHOLE bucket visible to the world or use ‚ÄúPre-Authenticated Requests‚Äù. Let‚Äôs start with the easy (and less control/secure) way first:\nClick on Edit Visibility and switch to public: Now the file and EVERYTHING else in the bucket are visible to EVERYONE on the internet.\nPre-Authenticated Requests Click on the three dots next to the file again and Click Create Pre-Authenticated Request: This gives you more options to control access and you can also expire the access :)\nAnd you then get a specific URL to access the file (or the bucket or the files you configured): The URL will stop working when it expires or when you delete the Request. You find all requests under Pre-Authenticated Requests in the Resources menu: Tiering Lifecycle Rules allow you to control what happens with files after a certain amount of time. You can delete them or move them to Archival storage for example: Mirroring Mirroring allows you to keep the bucket up-to-date with another bucket in another region (e.g. main bucket is in Europe and the replica is in Australia). This is controlled under the Replication Policy.\nYou first need to create the target bucket in the other region and then you can configure it as a target: Uploading files using CURL To enable this you need to create a Pre-Authenticated Request which allows access to the Bucket and it allows objects read and write and Object Listing: Then copy the URL, as it will never be shown again: Now you can use curl to upload files:\ncurl -v -X PUT --upload-file YOUR_FILE_HERE YOUR_PRE_AUTHENTICATED_REQUEST_URL_HERE Uploading files using RCLONE Rclone is a great tool for managing the remote file storages. To link it up with Oracles object storage you need to configure a few things (the full version is here: https://blogs.oracle.com/linux/post/using-rclone-to-copy-data-in-and-out-of-oracle-cloud-object-storage#:~:text=%20Using%20rclone%20to%20copy%20data%20in%20and,which%20Rclone%20will%20be%20used%20to...%20More%20):\nThe Amazon S3 Compatibility API relies on a signing key called a Customer Secret Key. You need to create this in your User‚Äôs settings: Then Click on Generate Secret Key under Customer Secret Keys: Save the Secret Key for later: Then save the Access Key from the table as well.\nFind out where your rclone config file is located: rclone config file Add this to your rclone config file: [myobjectstorage] type = s3 provider = Other env_auth = false access_key_id = \u003cACCESS KEY\u003e secret_access_key = \u003cSECRET KEY\u003e endpoint = froi4niecnpv.compat.objectstorage.\u003cREGION\u003e.oraclecloud.com Replace ACCESS KEY and SECRET KEY with the ones generated earlier. Replace REGION with the region where the storage bucket is located (e.g. eu-frankfurt-1).\nNow you can use rclone to for example list files in the bucket:\nrclone ls myobjectstorage:/test-bucket or you can upload files or whole directories (or download by reversing the order of Target/Source):\nrclone copy YOURFILE_or_YOURDIRECTORY myobjectstorage:/test-bucket or you can sync whole directories or other remote storage locations (includes deletes!):\nrclone sync YOURDIRECTORY_OR_YOUR_OTHER_RCLONE_STORAGE myobjectstorage:/test-bucket ","categories":"","description":"Object Storage\n","excerpt":"Object Storage\n","ref":"/brainhack_cloud/docs/object_storage/","tags":"","title":"Object Storage"},{"body":"Overview Access permissions are controlled via Policies. If something is not working, it‚Äôs usually a missing policy. One important thing to note is that Policies can ONLY be applied to Groups, NOT to the Users!\nPolicy for Cloud Shell access By default, a new user cannot open a Cloud Shell. To provide every user with this permission, we created a group called ‚Äúcloudshell-access‚Äù and we add every user to this group. The group then has a Policy that allows opening a cloud shell: allow group cloudshell-access to use cloud-shell in tenancy\nPolicies for Object Storage Lifecycle management To enable lifecycle management the local services need a policy to do this. I configured it for every possible region a user would choose:\nAllow service objectstorage-eu-frankfurt-1 to manage object-family in compartment projects\nAllow service objectstorage-ap-sydney-1 to manage object-family in compartment projects\nAllow service objectstorage-ap-melbourne-1 to manage object-family in compartment projects\nAllow service objectstorage-sa-saopaulo-1 to manage object-family in compartment projects\nAllow service objectstorage-sa-vinhedo-1 to manage object-family in compartment projects\nAllow service objectstorage-ca-montreal-1 to manage object-family in compartment projects\nAllow service objectstorage-ca-toronto-1 to manage object-family in compartment projects\nAllow service objectstorage-sa-santiago-1 to manage object-family in compartment projects\nAllow service objectstorage-eu-marseille-1 to manage object-family in compartment projects\nAllow service objectstorage-ap-hyderabad-1 to manage object-family in compartment projects\nAllow service objectstorage-ap-mumbai-1 to manage object-family in compartment projects\nAllow service objectstorage-il-jerusalem-1 to manage object-family in compartment projects\nAllow service objectstorage-eu-milan-1 to manage object-family in compartment projects\nAllow service objectstorage-ap-osaka-1 to manage object-family in compartment projects\nAllow service objectstorage-ap-tokyo-1 to manage object-family in compartment projects\nAllow service objectstorage-eu-amsterdam-1 to manage object-family in compartment projects\nAllow service objectstorage-me-jeddah-1 to manage object-family in compartment projects\nAllow service objectstorage-ap-singapore-1 to manage object-family in compartment projects\nAllow service objectstorage-af-johannesburg-1 to manage object-family in compartment projects\nAllow service objectstorage-ap-seoul-1 to manage object-family in compartment projects\nAllow service objectstorage-ap-chuncheon-1 to manage object-family in compartment projects\nAllow service objectstorage-eu-stockholm-1 to manage object-family in compartment projects\nAllow service objectstorage-eu-zurich-1 to manage object-family in compartment projects\nAllow service objectstorage-me-abudhabi-1 to manage object-family in compartment projects\nAllow service objectstorage-me-dubai-1 to manage object-family in compartment projects\nAllow service objectstorage-uk-london-1 to manage object-family in compartment projects\nAllow service objectstorage-uk-cardiff-1 to manage object-family in compartment projects\nAllow service objectstorage-us-ashburn-1 to manage object-family in compartment projects\nAllow service objectstorage-us-phoenix-1 to manage object-family in compartment projects\nAllow service objectstorage-us-sanjose-1 to manage object-family in compartment projects\nPolicies for HPC allow service compute_management to use tag-namespace in tenancy\nallow service compute_management to manage compute-management-family in tenancy\nallow service compute_management to read app-catalog-listing in tenancy\nAllow dynamic-group instance_principal to read app-catalog-listing in tenancy\nAllow dynamic-group instance_principal to use tag-namespace in tenancy\nAllow dynamic-group instance_principal to manage all-resources in compartment projects\n","categories":"","description":"This is about Oracle cloud policies.\n","excerpt":"This is about Oracle cloud policies.\n","ref":"/brainhack_cloud/admins/policies/","tags":"","title":"Setting up policies"},{"body":"Overview The Tenancy Explorer is very useful to see what resources are currently being used in your project.\nIt‚Äôs in Governance -\u003e Tenancy Explorer\nYou can use this to clean up resources that are no longer required.\nHint: The network setup creates a lot of things and to cleanup it‚Äôs easiest to go to Virtual Cloud Networks, select the VCN you don‚Äôt need anymore and click Terminate - this will go out and remove everything correctly:\n","categories":"","description":"Tenancy Explorer\n","excerpt":"Tenancy Explorer\n","ref":"/brainhack_cloud/docs/tenancy_explorer/","tags":"","title":"Tenancy Explorer"},{"body":"Overview The notebook service is like Google Colab, but without the time or resource limitations.\nStarting a notebook environment Select the geographic region where you want to run this (e.g. closest to you).\n!!! Important: If you want to use GPUs you need to select a region that has GPUs availabe!!!!\nNvidia GPUs V100 are available in Tokyo, London, (Seoul) Nvidia GPUs P100 are available in Frankfurt Nvidia GPUs V100 AND P100 are available in Ashburn CPU only instances are availabe in Sydney, Zurich, Stockholm, Singapore, Hyderabat, Marseille, Santiago, Toronto, Sao Paulo Then search for Data Science under Machine Learning then select your project compartment (in this example testproject) then click on create project: enter a Name and a Description then click Create notebook session Name the notebook session and select which resources you need: Set how much disk space you want under Block storage size (in GB), leave the Default networking and hit Create\nIt will now create everything for you: Once this is done (it will take 2-3minutes), you can open the notebook environment with a click on Open: Then you have to log in - leave Tenancy as brainhack and click Continue: and you have a fully configured notebook environment :) The notebook environment uses Oracle Linux as a base image, so if you want to install additional packages use:\nsudo yum update sudo yum install ... Hint for collaborating with multiple people: Multiple users can login to the same notebook system and work on separate notebooks simultaneously, but avoid editing the same notebook file - otherwise you risk overwriting your changes: Clean up for the day When completed for the day, you can save costs (especially important when using GPUs!) by deactivating the environment:\nClose the window and hit Deactivate This will shut down the compute instances but keep your data - so if you want to continue later, a click on Activate will bring everything back :) When reactivating you could even change the resources provided for the environment (e.g. adding a GPU or changing to a CPU only environment to save costs) :)\nClean up for good If you don‚Äôt need the notebook environment anymore you can delete everything (including the data) by More Actions -\u003e Delete\nA quick confirmation and a click on Delete will remove everything: ","categories":"","description":"Notebook service\n","excerpt":"Notebook service\n","ref":"/brainhack_cloud/tutorials/notebooks/","tags":"","title":"Notebooks"},{"body":"By default, every tenancy has strict resource limits. These make sure that the right resources are available in the data centers where they are requested. An overview of which resources are available where can be found here: https://www.oracle.com/cloud/data-regions/#northamerica\n","categories":"","description":"How resources work on the Oracle Cloud\n","excerpt":"How resources work on the Oracle Cloud\n","ref":"/brainhack_cloud/admins/resources/","tags":"","title":"Resources"},{"body":"We applied for funding for this project with Oracle Cloud for Research and the project is funded with $230,000.00 AUD from the 29th of January 2022 until 28th of January, 2024.\nFor help and support, please join the mattermost channel:\nhttps://mattermost.brainhack.org/brainhack/channels/brainhack_cloud https://mattermost.brainhack.org/brainhack/channels/ofr-support If you would like to join the admin team, please join this mattermost channel:\nhttps://mattermost.brainhack.org/brainhack/channels/brainhack_global-oracle The team behind the scenes:\nJohanna Bayer https://github.com/likeajumprope Remi Gau https://github.com/Remi-Gau Steffen Bollmann https://github.com/stebo85 Isil Bilgin https://github.com/complexbrains Samuel Guay https://github.com/SamGuay ","categories":"","description":"This is the team behind the scenes\n","excerpt":"This is the team behind the scenes\n","ref":"/brainhack_cloud/admins/team/","tags":"","title":"Team"},{"body":"Overview This section describes how to setup a Github action runner on the cloud that you can then use to run huge Github workflows that wouldn‚Äôt run in the hosted runners :)\nCreate a new VM or HPC See our VM or HPC Tutorials.\nConfigure Github Go to the repository settings and under Actions you will find Runners where you can add a self-hosted runner: After clicking on New self-hosted runner and selecting Linux you can copy and paste the first section to the VM created in Step 1: run the commands listed on that page in your VM and accept the defaults.\nTo keep the session running you can use either tmux:\nsudo install tmux tmux new -s runner ./run.sh CTRL-B d Or as an alternative start it as a service, because this will then survive restarts of the VM:\nsudo ./svc.sh install sudo ./svc.sh start Use custom runner in Action # Use this YAML in your workflow file for each job runs-on: self-hosted Here is an example: https://github.com/QSMxT/QSMxT/blob/master/.github/workflows/test_segmentation_pipeline.yml\n","categories":"","description":"Github action runner\n","excerpt":"Github action runner\n","ref":"/brainhack_cloud/tutorials/gh_runner/","tags":"","title":"Github action runner"},{"body":"Overview Oracle cloud supports High Performance Computing and makes it very easy to setup your own HPC cluster in the cloud. This tutorial here is a basic introduction to get your started. You can find an alternative setup (tailored at deep learning and GPUs here: https://docs.oracle.com/en/solutions/hpc-bare-metal-gpu-cluster/?source=:so:ch:or:awr::::Cloud\u0026SC=:so:ch:or:awr::::Cloud\u0026pcode=#GUID-F00DA828-106C-40CB-9279-B90D10807358)\nConfigure HPC cluster Download the Terraform configuration from here as a zip file: https://github.com/oracle-quickstart/oci-hpc/releases/tag/v2.8.0.5\nMake sure you selected the geographic region where you would like to create the resource. Then go to Stacks under Resource Manager: In the List Scope drop down menu, select your project title. Choose Create Stack and upload the zip file. Accept the defaults and add your public SSH key, disable Use cluster network (this is for MPI and not required for most people): Specify the number of compute nodes you would like the HPC to have using Initial cluster size.\nThis will then create a custom HPC for your project (it will take a couple of minutes to complete).\nOnce everything is done you find the bastion IP (the ‚Äúhead node‚Äù or ‚Äúlogin node‚Äù) under Outputs: If you selected the default options (make sure to setup your SSH keys: http://brainhack.org/brainhack_cloud/tutorials/vm/#create-a-public-key), you can now ssh into the HPC as follows:\nssh opc@ipbastion Once logged in, you can create users using the cluster command:\ncluster user add test These users can then login using a password.\nThere is a shared file storage (which can also be configured in size in the stack settings) in /nfs/cluster\nMore information can be found here: https://github.com/oracle-quickstart/oci-hpc\nConfiguring node memory When you first submit jobs using sbatch, if you followed the above setup you may find you recieve the following error:\nerror: Memory specification can not be satisfied This is happening as the RealMemory for each node (e.g. the amount of memory each compute node may use) has not yet been specified and defaults to a very low value. To rectify this, first work out how much memory to allocate to each node by running scontrol show nodes and looking at FreeMem. To change the RealMemory, you must edit the slurm configuration file (which may be found in /etc/slurm/slurm.conf). Inside the slurm configuration file you will find several lines which begin NodeName=. These specify the settings for each node. To fix the error, on each of these lines, add RealMemory=AMOUNT where AMOUNT is the amount of memory you wish to allow the node to use. Once you have done this, you must reconfigure slurm by running the following command:\nsudo scontrol reconfigure Advanced: Use MPI networking Your first need to request access to those resources with this form.\nThen follow the above instructions, but leave Use cluser network activated.\n","categories":"","description":"High Performance Computing\n","excerpt":"High Performance Computing\n","ref":"/brainhack_cloud/tutorials/hpc/","tags":"","title":"HPC"},{"body":"Overview To increase the security of our cloud tenancy an admin cannot create or remove other admins. This is the instruction for the admin-administrator to create new admin accounts:\nCreate a new admin Admins need to use a ‚Äúfederated account‚Äù to login into the cloud instead of ‚Äúlocal accounts‚Äù.\nGo to Federation in Identity Click on OracleIdentityCloudService and then Create User\nappend _admin to the Username (firstname_lastname) of the new user and add the user to the Group OCI_Administrators\nWarning: DO NOT ADD THE USER TO THE GROUP IDCS_Administrators - otherwise this admin will be able to manage other admin accounts.\nYou don‚Äôt have to assign any Roles to the user, so on the next screen click on Close.\nThe new admin will receive an email like this: and after activating the account everything is ready to go and the new admin needs to sign on via federated accounts Single Sign On: ","categories":"","description":"Creating new admins\n","excerpt":"Creating new admins\n","ref":"/brainhack_cloud/admins/admins/","tags":"","title":"Creating new admins"},{"body":"Overview This section describes how the Admin team manages users and projects on the Oracle Cloud.\nFeedback \u0026 Inquiries To ask questions or suggest new features, join the discussion on Github. For issues with the Brainhack Cloud, please open a new issue.\nFunding Thank you to Oracle for Research for providing Oracle Cloud credits and related resources to support this project.\nWhat is Oracle for Research? ‚ÄúOracle for Research supports academic, educational, and institutional researchers in all aspects of discovery. We‚Äôve made it simple for them to host, store and analyze their data with our cloud infrastructure solutions. Our research customers are changing the world ‚Äì and we‚Äôre proud to help them do it.‚Äù\nLicense CC BY License 4.0\n","categories":"","description":"Information for admins.\n","excerpt":"Information for admins.\n","ref":"/brainhack_cloud/admins/","tags":"","title":"Admins"},{"body":"Overview This section contains tutorials on how to setup various cool solutions on the cloud.\nFeedback \u0026 Inquiries To ask questions or suggest new features, join the discussion on github. For issues with the brainhack cloud, please open a new issue.\nAcknowledgments Funding Thank you to Oracle for Research for providing Oracle Cloud credits and related resources to support this project.\nWhat is Oracle for Research? ‚ÄúOracle for Research supports academic, educational, and institutional researchers in all aspects of discovery. We‚Äôve made it simple for them to host, store and analyze their data with our cloud infrastructure solutions. Our research customers are changing the world ‚Äì and we‚Äôre proud to help them do it.‚Äù\nLicense CC BY License 4.0\n","categories":"","description":"Tutorials\n","excerpt":"Tutorials\n","ref":"/brainhack_cloud/tutorials/","tags":"","title":"Tutorials"},{"body":"Step 1) Create VCN and Subnets Create a VCN and subnets using Virtual Cloud Networks \u003e Start VCN Wizard \u003e VCN with Internet Connectivity option. The Networking Quickstart option automatically creates the necessary private subnet with a NAT gateway. Step 2) Create a Dynamic Group Create a dynamic group with the following matching rule: ALL { resource.type = ‚Äòdatasciencenotebooksession‚Äô } created as ‚Äúdatascience-notebooks-dynamic-group‚Äù\nStep 3) Create Policies Create a policy in the root compartment with the following statements:\n3.1 Service Policies allow service datascience to use virtual-network-family in tenancy\n-\u003e created in root compartment as ‚Äúdatascience‚Äù\n3.2 Non-Administrator User Policies allow group data-scientists to use virtual-network-family in tenancy allow group data-scientists to manage data-science-family in tenancy where data-scientists represents the name of your user group -\u003e setup as ‚Äúprojects‚Äù group\n3.3 Dynamic Group Policies allow dynamic-group dynamic-group to manage data-science-family in tenancy where dynamic-group represents the name of your dynamic group\n-\u003e created as datascience-dynamic-group-policy in the root compartment\n","categories":"","description":"How to set up the datascience environments (only needs to be done once).","excerpt":"How to set up the datascience environments (only needs to be done ‚Ä¶","ref":"/brainhack_cloud/admins/datascience/","tags":"","title":"Datascience setup"},{"body":"Overview Docker (or a software container in general) is great for reproducibility and making it easy to move your tools in and out of the cloud. If you don‚Äôt know what containers are, here is a 3 minute explanation: https://www.youtube.com/watch?v=HelrQnm3v4g\nYou can either install the original ‚ÄúDocker‚Äù or a drop-in replacement called ‚ÄúPodman‚Äù\nInstalling Docker Docker is not installed by default on Oracle Linux and these steps will install and start Docker:\nsudo dnf install dnf-utils zip unzip sudo dnf config-manager --add-repo=https://download.docker.com/linux/centos/docker-ce.repo sudo dnf install docker-ce --nobest sudo systemctl enable docker.service sudo systemctl start docker.service OR: Installing Podman instead of Docker Podman is compatible with docker and is the default in Oracle Linux (and some argue it‚Äôs even better). This is how to install podman:\nsudo yum install docker Yes: This is actually installing podman in Oracle Linux!\nOr the direct way:\nsudo yum install podman If you installed podman using sudo yum install docker you can run docker commands directly, but it will tell you that this is actually podman:\ndocker Let‚Äôs remove that msg:\nsudo touch /etc/containers/nodocker Now we have podman installed as ‚Äúdocker‚Äù drop-in replacement and we can test it:\ndocker run hello-world and we could now run everything we like, e.g. https://neurodesk.github.io/docs/neurodesktop/getting-started/linux/\nmkdir /home/opc/neurodesktop-storage sudo yum install tmux tmux new -s neurodesk sudo docker run \\ --shm-size=1gb -it --privileged --name neurodesktop \\ -v ~/neurodesktop-storage:/neurodesktop-storage \\ -e HOST_UID=\"$(id -u)\" -e HOST_GID=\"$(id -g)\"\\ -p 8080:8080 \\ -h neurodesktop-20220302 docker.io/vnmd/neurodesktop:20220329 Hit CTRL-b and then d to detach from the tmux session (re-attaching is possible using tmux attach-session -t neurodesk).\nand this is how easy it is to run a container on the cloud :)\nif you connect to your cloud instance using a port-forwarding ssh -L 8080:127.0.0.1:8080 opc@xxx.xx.xx.xx then you could now use Neurodesktop via visiting http://localhost:8080/#/?username=user\u0026password=password in your local browser. When done, stop the container with CTRL-C and run sudo docker rm neurodesktop to cleanup.\n","categories":"","description":"Installing and using Docker ","excerpt":"Installing and using Docker ","ref":"/brainhack_cloud/docs/docker/","tags":"","title":"Installing and Using Docker"},{"body":"Overview Kubernetes enables running and orchestrating multiple software containers.\nSetup Kubernetes Cluster on Oracle Cloud using OKE Search for OKE in the menu and then go to Kubernetes Clusters (OKE) under Containers \u0026 Artifacts: Select the region where you would like to create the Cluster: Select the compartment where you would like to create the Cluster: Quick Create is great and gives a good starting point that works for most applications: The defaults are sensible, but Public Workers make it easier to troubleshoot things in the beginning: Select the shape you like and 1 worker is good to start (can be increased and changed later!) Under advanced you can configure the boot-volume size: Add an SSH key for troubleshooting worker nodes: Review everything and then hit Create and it should go and set-up everything :) That‚Äôs how easy it can be to setup a whole Kubernetes cluster :) Thanks OCI team for creating OKE! It will take a few minutes until everything is up and running -\u003e Coffee break?\nOnce everything is ready: you can access the cluster and the settings are given when clicking Access Cluster: Customizing nodes using Init-scripts If you configured Public IP addresses for the worker nodes, then you can connect to the nodes for troubleshooting - Click on the node under Nodes -\u003e pool1: By default the disks are NOT expanded to the Bootvolume size you configured, so this can be fixed via init scripts. Edit the node pool and under advanced set the inits script: This script will expand the disk:\n#!/bin/bash curl --fail -H \"Authorization: Bearer Oracle\" -L0 http://169.254.169.254/opc/v2/instance/metadata/oke_init_script | base64 --decode \u003e/var/run/oke-init.sh bash /var/run/oke-init.sh sudo dd iflag=direct if=/dev/oracleoci/oraclevda of=/dev/null count=1 echo \"1\" | sudo tee /sys/class/block/`readlink /dev/oracleoci/oraclevda | cut -d'/' -f 2`/device/rescan sudo /usr/libexec/oci-growfs -y Then hit Save Changes. To apply these configuration changes you need to Scale the pool to 0 and then backup to 1: Cleanup You can delete the whole cluster to cleanup: But be aware that Kubernetes can create resources via API calls, which is great, but it also means that these additionally created resources (like load balancers or storage volumes) will NOT be cleaned up automatically and need to cleaned up manually!\n","categories":"","description":"A description how to get started with Kubernetes on Oracle Cloud","excerpt":"A description how to get started with Kubernetes on Oracle Cloud","ref":"/brainhack_cloud/docs/kubernetes/","tags":"","title":"Kubernetes"},{"body":" Get started with Brainhack cloud Apply for Cloud Resources Tutorials Sign in to cloud What is Brainhack Cloud? A team of brainhack volunteers applied for Oracle Cloud Credits to support open source projects in and around brainhack with powerful cloud resources Read more ‚Ä¶\nDiscussions Ask questions or raise any issues you have Read more ‚Ä¶\nWhat is Oracle for Research? Oracle for Research supports academic, educational, and institutional researchers in all aspects of discovery. We've made it simple for them to host, store and analyze their data with our cloud infrastructure solutions. Our research customers are changing the world - and we're proud to help them do it. Read more ‚Ä¶\n","categories":"","description":"","excerpt":" Get started with Brainhack cloud Apply for Cloud Resources Tutorials ‚Ä¶","ref":"/brainhack_cloud/","tags":"","title":"Brainhack cloud"},{"body":"","categories":"","description":"","excerpt":"","ref":"/brainhack_cloud/search/","tags":"","title":"Search Results"}]